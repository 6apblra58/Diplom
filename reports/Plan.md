# План проведения автоматического тестирования

## Перечень автоматизируемых сценариев

### 1. Покупка тура на вкладке "Купить" с главной страницы:
#### 1.1 Успешная покупка при оплате картой с валидным номером и достаточным количеством средств на счете
* Открыть главную страницу сервиса http://localhost:8080/
* Нажать кнопку "Купить"
* Заполнить все поля валидными данными карты с достаточным количеством средств на счете
* Нажать кнопку "Продолжить"
  
*Ожидаемый результат:* В правом верхнем углу появляется сообщение "Успешно Операция одобрена банком"

#### 1.2 Покупка тура по карте с недостаточным количеством средств на счете
* Открыть главную страницу сервиса http://localhost:8080/
* Нажать кнопку "Купить"
* Заполнить все поля валидными данными карты с недостаточным количеством средств на счете
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* В правом верхнем углу появляется сообщение "Ошибка! Банк отказал в проведении операции"

### 2. Покупка тура на вкладке "Купить в кредит" с главной страницы:
#### 2.1 Успешная покупка при оплате кредитной картой с валидным номером и достаточным кредитным лимитом
* Открыть главную страницу сервиса http://localhost:8080/
* Нажать кнопку "Купить в кредит"
* Заполнить все поля валидными данными карты с достаточным кредитным лимитом
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* В правом верхнем углу появляется сообщение "Успешно Операция одобрена банком"

#### 2.2 Покупка тура по карте с недостаточным кредитным лимитом
* Открыть главную страницу сервиса http://localhost:8080/
* Нажать кнопку "Купить в кредит"
* Заполнить все поля валидными данными карты с недостаточным кредитным лимитом
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* В правом верхнем углу появляется сообщение "Ошибка! Банк отказал в проведении операции"

### 3. Пустые поля
#### 3.1 Покупка тура на вкладке "Купить"
* Открыть главную страницу сервиса http://localhost:8080/
* Нажать кнопку "Купить"
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под всеми заполняемыми полями появляется сообщение "Поле обязательно для заполнения"

#### 3.2 Покупка тура на вкладке "Купить в кредит"
* Открыть главную страницу сервиса http://localhost:8080/
* Нажать кнопку "Купить в кредит"
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под всеми заполняемыми полями появляется сообщение "Поле обязательно для заполнения"
### 4. Невалидный номер карты
Поле "Номер карты" присутствует в обеих формах: "Оплата по карте" и "Кредит по данным карты" и допускает для ввода только цифры и их количество - 16.
####  4.1 Пустое поле номер карты
* После выполнения предусловий заполнить остальные поля валидными данными
* Поле номер карты оставить пустым
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем номер карты появляется сообщение "Поле обязательно для заполнения".

####  4.2 Номер карты содержит количество цифр менее 16
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле номер карты ввести 14 цифр
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем номер карты появляется сообщение "Неверный формат".

#### 4.3 Номер карты не содержится в базе данных банка
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле номер карты ввести "5578334444444441"
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* В правом верхнем углу появляется сообщение "Ошибка! Банк отказал в проведении операции"

### 5 Невалидное поле "Месяц"

#### 5.1 Пустое поле
* После выполнения предусловий заполнить остальные поля валидными данными
* Поле месяц оставить пустым
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем месяц появляется сообщение "Поле обязательно для заполнения"

####  5.2 Поле содержит двузначное число более 12
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле месяц ввести 15
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем месяц появляется сообщение "Неверно указан срок действия карты"

####  5.3 Поле содержит одну цифру
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле месяц ввести 3
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем месяц появляется сообщение "Неверный формат"


#### 5.4 Поле содержит два нуля
* После выполнения предусловий заполнить остальные поля валидными данными
* Поле месяц ввести 00
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем месяц появляется сообщение "Неверный формат"


### 6 Невалидное поле год

####  6.1 Поле год содержит нулевое значение
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле год ввести 00
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем год появляется сообщение "Истёк срок действия карты"

#### 6.2 Поле год содержит намного позднее текущего
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле год ввести 70
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем год появляется сообщение "Неверно указан срок действия карты"

### 6.3 Поле год содержит одну цифру
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле год ввести 3
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем год появляется сообщение "Неверный формат"

### 6.4 Пустое поле год
* После выполнения предусловий заполнить остальные поля валидными данными
* Поле год оставить пустым
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем год появляется сообщение "Поле обязательно для заполнения"

### 6.5 Поле содержит год ранее текущего
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле год ввести 17
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем год появляется сообщение "Истёк срок действия карты"

### 7 Невалидное поле "Владелец"
### 7.1 Пустое поле
* После выполнения предусловий заполнить остальные поля валидными данными
* Поле "Владелец" оставить пустым
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем "Владелец" появляется сообщение "Поле обязательно для заполнения"

### 7.2 Поле содержит цифры и спец символы
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле "Владелец" ввести !"135@%
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем "Владелец" появляется сообщение "Неверный формат"

### 7.3 Поле содержит латиницу
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле "Владелец" ввести "Иван Иванов"
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем "Владелец" появляется сообщение "Неверный формат"

### 8 Поле "CVC/CVV"
### 8.1 Пустое поле
* После выполнения предусловий заполнить остальные поля валидными данными
* Поле "CVC/CVV" оставить пустым
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем "CVC/CVV" появляется сообщение "Поле обязательно для заполнения"

### 8.2 Поле содержит одну цифру
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле "CVC/CVV" ввести 5
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем "CVC/CVV" появляется сообщение "Неверный формат"

### 8.3 Поле содержит две цифры
* После выполнения предусловий заполнить остальные поля валидными данными
* В поле "CVC/CVV" ввести 11
* Нажать кнопку "Продолжить"

*Ожидаемый результат:* Под полем "CVC/CVV" появляется сообщение "Неверный формат"

## 2. Перечень используемых инструментов с обоснованием выбора

1. **IntelliJ IDEA Ultimate** - программа, в которой пишется код.

2. **Gradle** - система автоматической сборки внутри IntelliJ IDEA.

3. **JUnit 5** - библиотека для тестирования.

4. **Selenide** - работа с веб-страницами. Позволяет искать появившиеся значения с помощью html и css.

5. **Allure** - используется для наглядного изображения прохождения тестов и ошибок.

6. **Faker** - система генерации случайных данных для тестов. Позволяет генерировать различные данные автоматически с учетом местоположения

7. **Git** - система контроля версий. Удобство, возможность одновременной параллельной разработки, есть интеграция с IntelliJ IDEA

8. **Java 11** - универсальный язык, позволяющий работать на всех ОС и различном оборудовании за счет виртуальной машины, которая полностью контролирует безопасность и прерывает работу если что-то пошло не так (несанкционированный доступ и пр.)

9. **Lombok** - плагин для создания аннотаций, заменяющих значительное количество однообразных конструкторов, getters/setters и пр.

## 3.Перечень и описание возможных рисков при автоматизации
1. Проблемы с запуском приложения, подключением БД;
2. Изменение структуры страницы (html, css) - недоступность css-селекторов для проверки;
3. Некорректность тестовых данных при работе с Faker;

## 4. Интервальная оценка с учётом рисков (в часах)
1. Разработка плана тестирования - 8-10 часов;
2. Подготовка необходимых инструментов, написание кода автотестов - 72 часа;
3. Подготовка отчетной документации, баг-репортов - 24 часа;
4. Запас в виде 72 часов на непредвиденные обстоятельства.

## 5. План сдачи работ
1. Сдача плана тестирования - 26.07.21 (3 рабочих дня на утверждения плана и разрешения вопросов)
2. Готовность автотестов - 3.08.2021 (3 рабочих дня на утверждение автотестов и разрешения вопросов)
3. Результат работы автотестов - 10.08.2021  документы по итогам тестирования (отчет по итогам тестирования + баг-репорты)



